const o={yearly:"$39.99",weeklyYearly:"$0.48",weekly:"$6.99"};async function s(e){try{const n=await fetch(`/i18n/${e}.json`);if(!n.ok)throw new Error(`Failed to load translations for ${e}`);return await n.json()}catch(n){return console.error("Failed to load translations:",n),null}}function i(e){const n=document.getElementById("yearly");n&&n.innerHTML.includes("{{price}}")&&(n.innerHTML=n.innerHTML.replace("{{price}}",e.yearly));const l=document.getElementById("yearly-weekly");l&&l.innerHTML.includes("{{price}}")&&(l.innerHTML=l.innerHTML.replace("{{price}}",e.weeklyYearly));const t=document.getElementById("weekly");t&&t.innerHTML.includes("{{price}}")&&(t.innerHTML=t.innerHTML.replace("{{price}}",e.weekly))}function y(e){Object.keys(e).forEach(n=>{document.querySelectorAll(`[data-i18n="${n}"]`).forEach(t=>{t&&(t.innerHTML=e[n])})})}async function d(){const e=navigator.language.slice(0,2),t=new URLSearchParams(window.location.search).get("lang")||e,a=["en","es","pt","fr","de","ja"].includes(t)?t:"en";document.body.classList.add(`lang-${a}`);const r=await s(a);r&&(y(r),i(o))}d();document.querySelector(".yearly-btn").addEventListener("click",()=>{c("yearly")});document.querySelector(".weekly-btn").addEventListener("click",()=>{c("weekly")});function c(e){const n=document.querySelector(".yearly-btn"),l=document.querySelector(".weekly-btn");n.classList.toggle("selected",e==="yearly"),l.classList.toggle("selected",e==="weekly")}document.querySelector(".btn").addEventListener("click",()=>{const e=document.querySelector("section .selected");e.classList.contains("yearly-btn")?window.location.href="https://apple.com/":e.classList.contains("weekly-btn")&&(window.location.href="https://google.com/")});
